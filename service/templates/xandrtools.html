<!DOCTYPE html>
<html lang="en">
<head>
  <title>XandrTools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link  href="templates/styles.css" rel="stylesheet"  type="text/css">
</head>
<body>
  <script>
    function respNavigation() {
      var x = document.getElementById("myTopnav");
      if (x.className === "topnav") {
        x.className += " responsive";
      } else {
        x.className = "topnav";
      }
    }
    
    function copyXLink() {
      // Get the text field
      var copyID = document.getElementById("xid");
    
      // Select the text field
      copyID.select();
      copyID.setSelectionRange(0, 99999); // For mobile devices
    
      // Copy the text inside the text field
      navigator.clipboard.writeText(window.location.href + copyID.value);
      
      // Alert the copied text
      alert("Copied the text: " + window.location.href + copyID.value);
    }
    
    function copyUULink() {
      // Get the text field
      var copyID = document.getElementById("uuid");
      var copyLink = document.getElementById("uulink")
    
      // Select the text field
      copyID.select();
      copyID.setSelectionRange(0, 99999); // For mobile devices
    
      // Copy the text inside the text field
      navigator.clipboard.writeText(copyLink.value + copyID.value);
      
      // Alert the copied text
      alert("Copied the text: " + copyLink.value + copyID.value);
    }
  
  </script>
  
  <div class="topnav" id="myTopnav">
    <a href="#home">XandrTools</a>
    <div class="dropdown">
      <button class="dropbtn">Tools
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a href="#">Link 1</a>
        <a href="#">Link 2</a>
        <a href="#">Link 3</a>
      </div>
    </div>
    <a href="#home">Contacts</a>
    <a href="#news">About</a>
    <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="respNavigation()">&#9776;</a>
  </div>
  
  <div class="content-box">
    <div style="padding-left:16px">
      <p>This tool is an ongoing experiment in validation:</p>
      <h2>Validate the Xandr user ID:</h2>
      <form method="POST" action="/validate?type=xandrid&id=">
        <label for="xuid">Insert The Xandr User ID:</label>
        <div class="valid-box">
          <input type="text" id="xid" name="xuid" class="valid-input" {{if ne .Validation.WrongUserID ""}} value="{{.Validation.WrongUserID}}" {{end}} {{if ne .Validation.UserID 0}} value="{{.Validation.UserID}}" {{end}}><br>
          <input type="submit" value="Validate" class="valid-submit">
          <div title="Copy" class="box-btn-copy"  onclick="copyXLink()"><img src="templates/copy_btn.png" alt=""></div>
        </div>
      </form>
      <br> 
      <div>
        {{if eq .Errs true}}
          <label>ID: </label><label style="color: red">{{.Validation.WrongUserID}}</label>
          {{range .Validation.ErrList}}
            <p><span style='font-size:17px; color: red;'>&#8594;</span> {{.}}</p>
          {{end}}
        {{end}}
        {{if ne .Validation.UserID 0}}
          <p><span style='font-size:17px; color: green;'>&#8594;</span> {{.Validation.ValidMsg}}</p>
        {{end}}
        <br>
        <a href="https://docs.xandr.com/bundle/xandr-api/page/legacy-bss-file-format.html">Legacy BSS File Format</a>
      </div>
    </div>
  
    <div style="padding-left:16px">
      <h2>Validate the UUID:</h2>
      <form method="POST" action="/validate?type=uuid&id=">
        <label for="uuid">Insert UUID:</label>
        <div class="valid-box">
          <input type="text" id="uuid" name="uuid" class="valid-input" {{if ne .ValUUID.UUID ""}} value="{{.ValUUID.UUID}}" {{end}}><br>
          <input type="submit" value="Validate" class="valid-submit">
          <div title="Copy" class="box-btn-copy"  onclick="copyXLink()"><img src="templates/copy_btn.png" alt=""></div>
        </div>
      </form>
      <br> 
      <div>
        {{if and (ne .ValUUID.ErrMsg "") (eq .ValUUID.SectionsExist false)}}
          <label>ID: </label><label style="color: red">{{.ValUUID.UUID}}</label>
          <p><span style='font-size:17px; color: red;'>&#8594;</span> {{.ValUUID.ErrMsg}}</p>
        {{end}}
        {{if and (ne .ValUUID.ErrMsg "") (eq .ValUUID.SectionsExist true) }}
          <label>ID: </label>
          {{if eq .ValUUID.ErrSecNum 1}}<label style="color: red">{{.SecOne}}</label><label>-{{.SecTwo}}</label><label>-{{.SecThree}}</label><label>-{{.SecFour}}</label><label>-{{.SecFive}}</label>{{end}}
          {{if eq .ValUUID.ErrSecNum 2}}<label>{{.SecOne}}-</label><label style="color: red">{{.SecTwo}}</label><label>-{{.SecThree}}</label><label>-{{.SecFour}}</label><label>-{{.SecFive}}</label>{{end}}
          {{if eq .ValUUID.ErrSecNum 3}}<label>{{.SecOne}}</label><label>-{{.SecTwo}}-</label><label style="color: red">{{.SecThree}}</label><label>-{{.SecFour}}</label><label>-{{.SecFive}}</label>{{end}}
          {{if eq .ValUUID.ErrSecNum 4}}<label>{{.SecOne}}</label><label>-{{.SecTwo}}</label><label>-{{.SecThree}}-</label><label style="color: red">{{.SecFour}}</label><label>-{{.SecFive}}</label>{{end}}
          {{if eq .ValUUID.ErrSecNum 5}}<label>{{.SecOne}}</label><label>-{{.SecTwo}}</label><label>-{{.SecThree}}</label><label>-{{.SecFour}}-</label><label style="color: red">{{.SecFive}}</label>{{end}}
          <p><span style='font-size:17px; color: red;'>&#8594;</span> {{.ValUUID.ErrMsg}}</p>
        {{end}}
        {{if eq .ValUUID.Ok true}}
         <p><span style='font-size:17px; color: green;'>&#8594;</span> UUID validation completed. No errors or warnings founded.</p>
        {{end}}
        <br>
        <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Universally unique identifier</a>
      </div>
   </div>
  </div>

  <div class="footer">
    <div class="footer-col">
     <a href="#">Terms</a>
    </div>
  </div>
</body>
</html>